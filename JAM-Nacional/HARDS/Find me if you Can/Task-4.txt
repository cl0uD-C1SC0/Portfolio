#
#
#

- Get temporary aws credentials with CLI

TASK:

    GetID: aws cognito-identity get-id --identity-pool-id "identity-pool-id" --region "region" --logins cognito-idp."region".amazonaws.com/"user-pool-id"="id-token"
    EX: aws cognito-identity get-id --identity-pool-id "us-east-1:31d0df29-5160-423d-a846-5e60a54471ca" --region "us-east-1" --logins cognito-idp.us-east-1.amazonaws.com/us-east-1_OM4zj8dNe=tokenidcompleto

    GetCredentialsForIdentity: aws cognito-identity get-credentials-for-identity --identity-id"identity-id" --region "region" --logins cognito-idp."region".amazonaws.com/"user-pool-id"="token-id"
    EX: aws cognito-identity get-credentials-for-identity --identity-id "id-of-getid-command" --region "us-east-1" --logins cognito-idp.us-east-1.amazonaws.com/us-east-1_OM4zj8dNe

VALUES FROM:
    Client ID: AppClient ID
    UserPool ID: UserPoolID
    Id Token: Steps mentioned in task 1 to login into UserPool to get the ID token
    Identity Pool ID: Identity Pool ID
    Identity ID: it will be found in the response of the GetID CLI COMMAND

CONFIGURE AWS CLI AFTER SUCCESSFULLY CREDENTIALS:

    export AWS_REGION=value-of-region-of-event
    export AWS_ACCESS_KEY_ID=value-of-GetCredentialsForIdentity
    export AWS_SECRET_ACCESS_KEY=value-of-GetCredentialsForIdentity
    export AWS_SESSION_TOKEN=value-of-GetCredentialsForIdentity

GET OBJECT:

    aws s3api get-object --bucket s3bucketvalue --key key key-out
    EX: aws s3api get-object --bucket jose-bucket-s3-top --key txtmonstro.txt txtsaida.txt