{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Resource": "*",
            "Condition": {
                "StringNotEquals": {
                    "ec2:Region": "us-east-1"
                }
            },
            "Action": [
                "ec2:*"
            ],
            "Effect": "Deny",
            "Sid": "ControlAccessToRegion"
        },
        {
            "Resource": "*",
            "Action": [
                "autoscaling:*",
                "elasticloadbalancing:*",
                "ecr:*",
                "ecs:*",
                "s3:*",
                "elasticbeanstalk:*",
                "iam:Generate*",
                "iam:Get*",
                "iam:List*",
                "iam:CreateServiceLinkedRole",
                "logs:*",
                "cloudwatch:*",
                "events:*",
                "application-autoscaling:*",
                "cloud9:*",
                "cloudshell:*"
            ],
            "Effect": "Allow",
            "Sid": "OverlyPermissivePolicy"
        },
        {
            "Resource": [
                "arn:aws:ec2:*:*:instance/*"
            ],
            "Condition": {
                "StringEquals": {
                    "ec2:InstanceType": [
                        "t2.micro"
                    ]
                }
            },
            "Action": "ec2:RunInstances",
            "Effect": "Allow",
            "Sid": "OnlyAllowLaunchOfT2Instances"
        },
        {
            "Resource": [
                "arn:aws:ec2:*::image/ami-*",
                "arn:aws:ec2:*:*:subnet/*",
                "arn:aws:ec2:*:*:network-interface/*",
                "arn:aws:ec2:*:*:volume/*",
                "arn:aws:ec2:*:*:key-pair/*",
                "arn:aws:ec2:*:*:security-group/*",
                "arn:aws:ec2:*:*:launch-template/*"
            ],
            "Action": "ec2:RunInstances",
            "Effect": "Allow",
            "Sid": "AllowAllTheOtherRunInstancesResources"
        },
        {
            "Resource": "*",
            "Action": [
                "ec2:Accept*",
                "ec2:Allocate*",
                "ec2:Assign*",
                "ec2:Associate*",
                "ec2:Attach*",
                "ec2:Authorize*",
                "ec2:Bundle*",
                "ec2:Cancel*",
                "ec2:Confirm*",
                "ec2:Copy*",
                "ec2:Create*",
                "ec2:Delete*",
                "ec2:Deregister*",
                "ec2:Describe*",
                "ec2:Detach*",
                "ec2:Disable*",
                "ec2:Disassociate*",
                "ec2:Enable*",
                "ec2:Get*",
                "ec2:Import*",
                "ec2:Modify*",
                "ec2:Monitor*",
                "ec2:Move*",
                "ec2:Reboot*",
                "ec2:Register*",
                "ec2:Reject*",
                "ec2:Release*",
                "ec2:Replace*",
                "ec2:Report*",
                "ec2:Reset*",
                "ec2:Restore*",
                "ec2:Revoke*",
                "ec2:Start*",
                "ec2:Stop*",
                "ec2:Terminate*",
                "ec2:Unassign*",
                "ec2:Unmonitor*"
            ],
            "Effect": "Allow",
            "Sid": "AllowAllOtherEC2ActionsExceptSpotAndReserved"
        },
        {
            "Resource": "*",
            "Action": [
                "ec2:ModifyReservedInstances",
                "ec2:PurchaseHostReservation",
                "ec2:PurchaseReservedInstancesOffering",
                "ec2:PurchaseScheduledInstances",
                "rds:PurchaseReservedDBInstancesOffering",
                "dynamodb:PurchaseReservedCapacityOfferings",
                "ec2:CancelSpotFleetRequests",
                "ec2:ModifySpotFleetRequest",
                "ec2:RequestSpotFleet",
                "ec2:RequestSpotInstances",
                "ec2:CancelSpotInstanceRequests",
                "ec2:CreateSpotDatafeedSubscription",
                "ec2:DeleteSpotDatafeedSubscription"
            ],
            "Effect": "Deny",
            "Sid": "DontBuyReservationsOrSpotPlz"
        },
        {
            "Resource": "arn:aws:iam::938980750679:role/TeamRole",
            "Action": "iam:PassRole",
            "Effect": "Allow"
        }
    ]
}